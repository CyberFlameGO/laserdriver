int[][] drawing = {{0,0,0},{0,87,52},{1,96,49},{1,126,49},{1,160,60},{1,190,85},{1,203,109},{1,209,139},{1,208,160},{1,288,230},{1,270,241},{1,247,265},{1,235,284},{1,225,302},{1,222,313},{1,141,242},{1,117,247},{1,99,247},{1,67,234},{1,41,217},{1,15,174},{1,12,147},{1,15,127},{1,81,183},{1,147,108},{1,87,54},{0,515,229},{1,590,161},{1,590,133},{1,598,102},{1,614,78},{1,642,57},{1,665,50},{1,694,46},{1,714,49},{1,653,106},{1,722,183},{1,786,124},{1,786,154},{1,780,184},{1,758,216},{1,735,233},{1,698,246},{1,672,244},{1,657,241},{1,579,311},{1,557,274},{1,535,249},{1,515,231},{0,585,493},{1,573,523},{1,549,558},{1,535,574},{1,526,580},{1,592,638},{1,588,667},{1,603,705},{1,631,735},{1,663,749},{1,696,752},{1,716,748},{1,652,693},{1,723,616},{1,785,673},{1,786,636},{1,775,604},{1,754,580},{1,734,565},{1,711,559},{1,686,555},{1,669,556},{1,657,558},{1,586,495},{0,215,495},{1,215,495},{1,229,527},{1,250,557},{1,265,574},{1,272,580},{1,210,638},{1,211,653},{1,206,685},{1,190,713},{1,169,735},{1,133,749},{1,111,751},{1,85,748},{1,145,691},{1,79,616},{1,13,672},{1,13,642},{1,21,613},{1,35,591},{1,55,572},{1,81,558},{1,105,554},{1,129,556},{1,141,559},{1,214,492},{1,216,496},{0,228,488},{1,228,489},{1,216,438},{1,220,366},{1,235,323},{1,250,290},{1,283,249},{1,326,222},{1,366,209},{1,418,207},{1,464,218},{1,504,241},{1,540,278},{1,567,321},{1,580,363},{1,585,424},{1,578,466},{1,558,516},{1,529,555},{1,506,577},{1,509,588},{1,506,609},{1,498,624},{1,482,633},{1,463,631},{1,446,620},{1,441,606},{1,440,593},{1,436,593},{1,435,607},{1,427,619},{1,417,629},{1,394,634},{1,380,627},{1,368,613},{1,365,595},{1,365,593},{1,361,593},{1,361,606},{1,350,625},{1,333,632},{1,322,634},{1,303,625},{1,293,609},{1,289,595},{1,290,585},{1,295,577},{1,263,549},{1,241,512},{1,229,489},{0,296,467},{1,273,447},{1,267,422},{1,268,402},{1,285,375},{1,308,360},{1,341,363},{1,362,381},{1,370,393},{1,368,405},{1,355,419},{1,331,431},{1,310,441},{1,304,448},{1,303,458},{1,300,465},{1,296,468},{0,383,522},{1,384,503},{1,390,478},{1,398,465},{1,402,465},{1,410,480},{1,416,500},{1,417,514},{1,415,525},{1,413,529},{1,412,529},{1,406,510},{1,405,508},{1,401,505},{1,396,506},{1,391,517},{1,388,525},{1,386,528},{1,383,524},{0,462,427},{1,491,441},{1,495,452},{1,497,465},{1,504,467},{1,510,463},{1,523,451},{1,533,428},{1,533,408},{1,524,384},{1,505,368},{1,483,360},{1,459,362},{1,437,379},{1,430,392},{1,433,409},{1,447,421},{1,462,428},};

int flashResult = 0;
int continueAfterFirst = 1;


int currentX = 0, currentY = 0;
int currentStep = 0;

void setup() {
  background(0);
  size(800, 800);
  postSetup();
}

void postSetup() {
  noStroke();
  fill(0,0,0,180);
  rect(0,0,width,height);
  stroke(200,200,200,160);
  for(int x = 0; x < drawing.length; x++) {
      if (drawing[x][0] == 1) {
        line(currentX, currentY, drawing[x][1], drawing[x][2]);      
      }
      currentX = drawing[x][1];
      currentY = drawing[x][2];
  }
  currentX = 0;
  currentY = 0;
  fill(0,0,0,10);
}

void draw() {
  if (drawing[currentStep][0] == 1) {
    stroke(255,0,0,200);
  } else {
    stroke(80,255,80,200);
  }
  line(currentX, currentY, drawing[currentStep][1], drawing[currentStep][2]);
  currentX = drawing[currentStep][1];
  currentY = drawing[currentStep][2];
  
  currentStep++;
  //saveFrame("frame####.gif");
  if (drawing.length == currentStep) {
    //noLoop();
    currentStep = 0;
    currentX = 0;
    currentY = 0;
    if (flashResult == 0) {
      flashResult = 1;
      //delay(400);
      background(0);
    } else {
      flashResult = 0;
      for(int wait=0; wait < 3; wait++) {
        //delay(1000);
      }
      if (continueAfterFirst == 1) {
        postSetup();
      } else {
        noLoop(); // Dies after drawing
      }
    }
  }
  if (flashResult == 0) {
    //delay(30);
    noStroke();
    rect(0,0,width,height);
  }
}



